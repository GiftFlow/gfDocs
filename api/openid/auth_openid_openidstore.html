<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Wed, 09 Feb 2011 20:22:55 +0000">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Auth_OpenID_OpenIDStore (GiftFlow API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../openid/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../openid/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../openid/auth_openid_openidstore.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">OpenID\Auth_OpenID_OpenIDStore</div>
<a href="../source/libraries/auth/openid/interface.php.html#line30" class="location">libraries/Auth/OpenID/Interface.php at line 30</a>

<h1>Class Auth_OpenID_OpenIDStore</h1>

<pre class="tree"><strong>Auth_OpenID_OpenIDStore</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Auth_OpenID_OpenIDStore</strong></p>

<div class="comment" id="overview_description"><p>This is the interface for the store objects the OpenID library
uses. It is a single class that provides all of the persistence
mechanisms that the OpenID library needs, for both servers and
consumers.  If you want to create an SQL-driven store, please see
then <code><a href="../openid/auth_openid_sqlstore.html">Auth_OpenID_SQLStore</a></code> class.</p><p>Change: Version 2.0 removed the storeNonce, getAuthKey, and isDumb
methods, and changed the behavior of the useNonce method to support
one-way nonces.</p></div>

<dl>
<dt>Author:</dt>
<dd>JanRain, Inc. <openid@janrain.com></dd>
</dl>
<hr>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#cleanup()">cleanup</a>()</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#cleanupAssociations()">cleanupAssociations</a>()</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#cleanupNonces()">cleanupNonces</a>()</p></td>
</tr>
<tr>
<td class="type"> Association</td>
<td class="description"><p class="name"><a href="#getAssociation()">getAssociation</a>(string server_url, mixed handle)</p><p class="description">This method returns an Association object from storage that
matches the server URL and, if specified, handle. </p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#removeAssociation()">removeAssociation</a>(string server_url, string handle)</p><p class="description">This method removes the matching association if it's found, and
returns whether the association was removed or not.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#reset()">reset</a>()</p><p class="description">Removes all entries from the store; implementation is optional.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#storeAssociation()">storeAssociation</a>(string server_url, Association association)</p><p class="description">This method puts an Association object into storage,
retrievable by server URL and handle.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#supportsCleanup()">supportsCleanup</a>()</p><p class="description">Report whether this storage supports cleanup</p></td>
</tr>
<tr>
<td class="type"> bool</td>
<td class="description"><p class="name"><a href="#useNonce()">useNonce</a>(mixed server_url, mixed timestamp, mixed salt, string nonce)</p><p class="description">Called when using a nonce.
</p></td>
</tr>
</table>

<h2 id="detail_method">Method Detail</h2><div class="method_detail">
<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line90" class="location">libraries/Auth/OpenID/Interface.php at line 90</a>

<h3 id="cleanup()">cleanup</h3>
<code class="signature">public  void <strong>cleanup</strong>()</code>
<div class="details">
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line77" class="location">libraries/Auth/OpenID/Interface.php at line 77</a>

<h3 id="cleanupAssociations()">cleanupAssociations</h3>
<code class="signature">public  void <strong>cleanupAssociations</strong>()</code>
<div class="details">
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line62" class="location">libraries/Auth/OpenID/Interface.php at line 62</a>

<h3 id="cleanupNonces()">cleanupNonces</h3>
<code class="signature">public  void <strong>cleanupNonces</strong>()</code>
<div class="details">
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line134" class="location">libraries/Auth/OpenID/Interface.php at line 134</a>

<h3 id="getAssociation()">getAssociation</h3>
<code class="signature">public  Association <strong>getAssociation</strong>(string server_url, mixed handle)</code>
<div class="details">
<p>This method returns an Association object from storage that
matches the server URL and, if specified, handle. It returns
null if no such association is found or if the matching
association is expired.</p><p>If no handle is specified, the store may return any association
which matches the server URL. If multiple associations are
valid, the recommended return value for this method is the one
most recently issued.</p><p>This method is allowed (and encouraged) to garbage collect
expired associations when found. This method must not return
expired associations.</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server to get the association for. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>handle - This optional parameter is the handle of the specific association to get. If no specific handle is provided, any valid association matching the server URL is returned.</dd>
<dt>Returns:</dt>
<dd>The Association for the given identity server.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line158" class="location">libraries/Auth/OpenID/Interface.php at line 158</a>

<h3 id="removeAssociation()">removeAssociation</h3>
<code class="signature">public  mixed <strong>removeAssociation</strong>(string server_url, string handle)</code>
<div class="details">
<p>This method removes the matching association if it's found, and
returns whether the association was removed or not.</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server the association to remove belongs to. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>handle - This is the handle of the association to remove. If there isn't an association found that matches both the given URL and handle, then there was no matching handle found.</dd>
<dt>Returns:</dt>
<dd>Returns whether or not the given association existed.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line192" class="location">libraries/Auth/OpenID/Interface.php at line 192</a>

<h3 id="reset()">reset</h3>
<code class="signature">public  void <strong>reset</strong>()</code>
<div class="details">
<p>Removes all entries from the store; implementation is optional.</p></div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line44" class="location">libraries/Auth/OpenID/Interface.php at line 44</a>

<h3 id="storeAssociation()">storeAssociation</h3>
<code class="signature">public  void <strong>storeAssociation</strong>(string server_url, Association association)</code>
<div class="details">
<p>This method puts an Association object into storage,
retrievable by server URL and handle.</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server that this association is with. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>association - The Association to store.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line99" class="location">libraries/Auth/OpenID/Interface.php at line 99</a>

<h3 id="supportsCleanup()">supportsCleanup</h3>
<code class="signature">public  void <strong>supportsCleanup</strong>()</code>
<div class="details">
<p>Report whether this storage supports cleanup</p></div></div>



<div class='method'><a href="../source/libraries/auth/openid/interface.php.html#line183" class="location">libraries/Auth/OpenID/Interface.php at line 183</a>

<h3 id="useNonce()">useNonce</h3>
<code class="signature">public  bool <strong>useNonce</strong>(mixed server_url, mixed timestamp, mixed salt, string nonce)</code>
<div class="details">
<p>Called when using a nonce.</p><p>This method should return C{True} if the nonce has not been
used before, and store it for a while to make sure nobody
tries to use the same value again.  If the nonce has already
been used, return C{False}.</p><p>Change: In earlier versions, round-trip nonces were used and a
nonce was only valid if it had been previously stored with
storeNonce.  Version 2.0 uses one-way nonces, requiring a
different implementation here that does not depend on a
storeNonce call.  (storeNonce is no longer part of the
interface.</p><dl>
<dt>Parameters:</dt>
<dd>nonce - The nonce to use.</dd>
<dt>Returns:</dt>
<dd>Whether or not the nonce was valid.</dd>
</dl>
</div></div>



</div><div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../openid/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../openid/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../openid/auth_openid_openidstore.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>
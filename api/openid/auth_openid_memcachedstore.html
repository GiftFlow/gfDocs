<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Sat, 10 Jul 2010 18:10:55 +0000">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Auth_OpenID_MemcachedStore (GiftFlow API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../openid/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../openid/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../openid/auth_openid_memcachedstore.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">OpenID\Auth_OpenID_MemcachedStore</div>
<a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line36" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 36</a>

<h1>Class Auth_OpenID_MemcachedStore</h1>

<pre class="tree"><a href="../openid/auth_openid_openidstore.html">Auth_OpenID_OpenIDStore</a><br>    └─<strong>Auth_OpenID_MemcachedStore</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>Auth_OpenID_MemcachedStore</strong><br>extends <a href="../openid/auth_openid_openidstore.html">Auth_OpenID_OpenIDStore</a>

</p>

<div class="comment" id="overview_description"><p>This is a memcached-based store for OpenID associations and
nonces. </p><p>As memcache has limit of 250 chars for key length, 
server_url, handle and salt are hashed with sha1(). </p><p>Most of the methods of this class are implementation details.
People wishing to just use this store need only pay attention to
the constructor.</p></div>

<dl>
<dt>Author:</dt>
<dd>JanRain, Inc. <openid@janrain.com></dd>
</dl>
<hr>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__construct()">__construct</a>(resource connection, bool compress)</p><p class="description">Initializes a new <a href="../openid/auth_openid_memcachedstore.html">Auth_OpenID_MemcachedStore</a> instance.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#associationKey()">associationKey</a>(mixed server_url, mixed handle)</p><p class="description">Memcache key is prefixed with 'openid_association_' string.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#associationServerKey()">associationServerKey</a>(mixed server_url)</p><p class="description">Memcache key is prefixed with 'openid_association_' string.</p></td>
</tr>
<tr>
<td class="type"> Association</td>
<td class="description"><p class="name"><a href="#getAssociation()">getAssociation</a>(string server_url, mixed handle)</p><p class="description">Read association from memcached. </p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#removeAssociation()">removeAssociation</a>(string server_url, string handle)</p><p class="description">Immediately delete association from memcache.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#storeAssociation()">storeAssociation</a>(string server_url, Association association)</p><p class="description">Store association until its expiration time in memcached. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#supportsCleanup()">supportsCleanup</a>()</p><p class="description">Report that this storage doesn't support cleanup</p></td>
</tr>
<tr>
<td class="type"> bool</td>
<td class="description"><p class="name"><a href="#useNonce()">useNonce</a>(mixed server_url, mixed timestamp, mixed salt, string nonce)</p><p class="description">Create nonce for server and salt, expiring after 
$Auth_OpenID_SKEW seconds.</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from OpenID\Auth_OpenID_OpenIDStore</th></tr>
<tr><td><a href="../openid/auth_openid_openidstore.html#cleanup()">cleanup</a>, <a href="../openid/auth_openid_openidstore.html#cleanupAssociations()">cleanupAssociations</a>, <a href="../openid/auth_openid_openidstore.html#cleanupNonces()">cleanupNonces</a>, <a href="../openid/auth_openid_openidstore.html#getAssociation()">getAssociation</a>, <a href="../openid/auth_openid_openidstore.html#removeAssociation()">removeAssociation</a>, <a href="../openid/auth_openid_openidstore.html#reset()">reset</a>, <a href="../openid/auth_openid_openidstore.html#storeAssociation()">storeAssociation</a>, <a href="../openid/auth_openid_openidstore.html#supportsCleanup()">supportsCleanup</a>, <a href="../openid/auth_openid_openidstore.html#useNonce()">useNonce</a></td></tr></table>

<h2 id="detail_method">Method Detail</h2><div class="method_detail">
<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line44" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 44</a>

<h3 id="__construct()">__construct</h3>
<code class="signature">public  void <strong>__construct</strong>(resource connection, bool compress)</code>
<div class="details">
<p>Initializes a new <code><a href="../openid/auth_openid_memcachedstore.html">Auth_OpenID_MemcachedStore</a></code> instance.
Just saves memcached object as property.</p><dl>
<dt>Parameters:</dt>
<dd>connection - Memcache connection resourse</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line186" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 186</a>

<h3 id="associationKey()">associationKey</h3>
<code class="signature">public  void <strong>associationKey</strong>(mixed server_url, mixed handle)</code>
<div class="details">
<p>Memcache key is prefixed with 'openid_association_' string.</p></div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line194" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 194</a>

<h3 id="associationServerKey()">associationServerKey</h3>
<code class="signature">public  void <strong>associationServerKey</strong>(mixed server_url)</code>
<div class="details">
<p>Memcache key is prefixed with 'openid_association_' string.</p></div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line91" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 91</a>

<h3 id="getAssociation()">getAssociation</h3>
<code class="signature">public  Association <strong>getAssociation</strong>(string server_url, mixed handle)</code>
<div class="details">
<p>Read association from memcached. If no handle given 
and multiple associations found, returns latest issued</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server to get the association for. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>handle - This optional parameter is the handle of the specific association to get. If no specific handle is provided, any valid association matching the server URL is returned.</dd>
<dt>Returns:</dt>
<dd>The Association for the given identity server.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line125" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 125</a>

<h3 id="removeAssociation()">removeAssociation</h3>
<code class="signature">public  mixed <strong>removeAssociation</strong>(string server_url, string handle)</code>
<div class="details">
<p>Immediately delete association from memcache.</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server the association to remove belongs to. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>handle - This is the handle of the association to remove. If there isn't an association found that matches both the given URL and handle, then there was no matching handle found.</dd>
<dt>Returns:</dt>
<dd>Returns whether or not the given association existed.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line55" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 55</a>

<h3 id="storeAssociation()">storeAssociation</h3>
<code class="signature">public  void <strong>storeAssociation</strong>(string server_url, Association association)</code>
<div class="details">
<p>Store association until its expiration time in memcached. 
Overwrites any existing association with same server_url and 
handle. Handles list of associations for every server.</p><dl>
<dt>Parameters:</dt>
<dd>server_url - The URL of the identity server that this association is with. Because of the way the server portion of the library uses this interface, don't assume there are any limitations on the character set of the input string. In particular, expect to see unescaped non-url-safe characters in the server_url field.</dd>
<dd>association - The Association to store.</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line202" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 202</a>

<h3 id="supportsCleanup()">supportsCleanup</h3>
<code class="signature">public  void <strong>supportsCleanup</strong>()</code>
<div class="details">
<p>Report that this storage doesn't support cleanup</p></div></div>



<div class='method'><a href="../source/application/libraries/auth/openid/memcachedstore.php.html#line165" class="location">application/libraries/Auth/OpenID/MemcachedStore.php at line 165</a>

<h3 id="useNonce()">useNonce</h3>
<code class="signature">public  bool <strong>useNonce</strong>(mixed server_url, mixed timestamp, mixed salt, string nonce)</code>
<div class="details">
<p>Create nonce for server and salt, expiring after 
$Auth_OpenID_SKEW seconds.</p><dl>
<dt>Parameters:</dt>
<dd>nonce - The nonce to use.</dd>
<dt>Returns:</dt>
<dd>Whether or not the nonce was valid.</dd>
</dl>
</div></div>



</div><div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../openid/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../openid/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../openid/auth_openid_memcachedstore.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Tue, 29 Jun 2010 21:10:09 +0000">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>OAuthRequestVerifier (GiftFlow API)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../giftflow/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../giftflow/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../giftflow/oauthrequestverifier.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">GiftFlow\OAuthRequestVerifier</div>
<a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line39" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 39</a>

<h1>Class OAuthRequestVerifier</h1>

<pre class="tree"><a href="../giftflow/oauthrequest.html">OAuthRequest</a><br>    └─<strong>OAuthRequestVerifier</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>OAuthRequestVerifier</strong><br>extends <a href="../giftflow/oauthrequest.html">OAuthRequest</a>

</p>

<div class="comment" id="overview_description"><p>Verify the current request.  Checks if signed and if the signature is correct.
When correct then also figures out on behalf of which user this request is being made.</p></div>

<dl>
<dt>Version:</dt>
<dd>$Id: OAuthRequestVerifier.php 51 2008-10-15 15:15:47Z marcw@pobox.com $</dd>
<dt>Author:</dt>
<dd>Marc Worrell <marcw@pobox.com></dd>
<dt>Date:</dt>
<dd>Nov 16, 2007 4:35:03 PM The MIT License Copyright (c) 2007-2008 Mediamatic Lab Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#getQueryString">$getQueryString</a></p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#store">$store</a></p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Fields inherited from GiftFlow\OAuthRequest</th></tr>
<tr><td><a href="../giftflow/oauthrequest.html#__construct">__construct</a>, <a href="../giftflow/oauthrequest.html#body">body</a>, <a href="../giftflow/oauthrequest.html#headers">headers</a>, <a href="../giftflow/oauthrequest.html#method">method</a>, <a href="../giftflow/oauthrequest.html#param">param</a>, <a href="../giftflow/oauthrequest.html#uri">uri</a>, <a href="../giftflow/oauthrequest.html#uri_parts">uri_parts</a></td></tr></table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__construct()">__construct</a>(string uri, string method, string request, string parameters, array headers, string body)</p><p class="description">Construct the request to be verified</p></td>
</tr>
<tr>
<td class="type">static  boolean</td>
<td class="description"><p class="name"><a href="#requestIsSigned()">requestIsSigned</a>()</p><p class="description">See if the current request is signed with OAuth</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#verify()">verify</a>(string token_type)</p><p class="description">Verify the request</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#verifyDataSignature()">verifyDataSignature</a>(string data, string consumer_secret, string token_secret, string signature_method, string signature)</p><p class="description">Verify the signature of a string.</p></td>
</tr>
<tr>
<td class="type"> boolean</td>
<td class="description"><p class="name"><a href="#verifyIfSigned()">verifyIfSigned</a>(string token_type)</p><p class="description">Verify the request if it seemed to be signed.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#verifySignature()">verifySignature</a>(string consumer_secret, string token_secret, str token_type)</p><p class="description">Verify the signature of the request, using the method in oauth_signature_method.
</p></td>
</tr>
</table>

<table class="inherit">
<tr><th colspan="2">Methods inherited from GiftFlow\OAuthRequest</th></tr>
<tr><td><a href="../giftflow/oauthrequest.html#__construct()">__construct</a>, <a href="../giftflow/oauthrequest.html#calculateDataSignature()">calculateDataSignature</a>, <a href="../giftflow/oauthrequest.html#calculateSignature()">calculateSignature</a>, <a href="../giftflow/oauthrequest.html#checks()">checks</a>, <a href="../giftflow/oauthrequest.html#defaultPortForScheme()">defaultPortForScheme</a>, <a href="../giftflow/oauthrequest.html#getBody()">getBody</a>, <a href="../giftflow/oauthrequest.html#getMethod()">getMethod</a>, <a href="../giftflow/oauthrequest.html#getNormalizedParams()">getNormalizedParams</a>, <a href="../giftflow/oauthrequest.html#getParam()">getParam</a>, <a href="../giftflow/oauthrequest.html#getRequestBody()">getRequestBody</a>, <a href="../giftflow/oauthrequest.html#getRequestContentType()">getRequestContentType</a>, <a href="../giftflow/oauthrequest.html#getRequestUrl()">getRequestUrl</a>, <a href="../giftflow/oauthrequest.html#getSignatureMethod()">getSignatureMethod</a>, <a href="../giftflow/oauthrequest.html#parseHeaders()">parseHeaders</a>, <a href="../giftflow/oauthrequest.html#parseUri()">parseUri</a>, <a href="../giftflow/oauthrequest.html#redirect()">redirect</a>, <a href="../giftflow/oauthrequest.html#selectSignatureMethod()">selectSignatureMethod</a>, <a href="../giftflow/oauthrequest.html#setBody()">setBody</a>, <a href="../giftflow/oauthrequest.html#setParam()">setParam</a>, <a href="../giftflow/oauthrequest.html#signatureBaseString()">signatureBaseString</a>, <a href="../giftflow/oauthrequest.html#transcodeParams()">transcodeParams</a>, <a href="../giftflow/oauthrequest.html#urldecode()">urldecode</a>, <a href="../giftflow/oauthrequest.html#urlencode()">urlencode</a>, <a href="../giftflow/oauthrequest.html#urltranscode()">urltranscode</a></td></tr></table>

<h2 id="detail_field">Field Detail</h2>
<a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line41" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 41</a>

<h3 id="getQueryString">getQueryString</h3>
<code class="signature">private  mixed <strong>$getQueryString</strong> = true</code>
<div class="details">
</div>

<hr>

<a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line42" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 42</a>

<h3 id="store">store</h3>
<code class="signature">private  mixed <strong>$store</strong></code>
<div class="details">
</div>

<hr>

<h2 id="detail_method">Method Detail</h2><div class="method_detail">
<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line50" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 50</a>

<h3 id="__construct()">__construct</h3>
<code class="signature">public  void <strong>__construct</strong>(string uri, string method, string request, string parameters, array headers, string body)</code>
<div class="details">
<p>Construct the request to be verified</p></div></div>



<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line64" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 64</a>

<h3 id="requestIsSigned()">requestIsSigned</h3>
<code class="signature">public static  boolean <strong>requestIsSigned</strong>()</code>
<div class="details">
<p>See if the current request is signed with OAuth</p></div></div>



<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line117" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 117</a>

<h3 id="verify()">verify</h3>
<code class="signature">public  int <strong>verify</strong>(string token_type)</code>
<div class="details">
<p>Verify the request</p><dl>
<dt>Parameters:</dt>
<dd>token_type - the kind of token needed, defaults to 'access' (false, 'access', 'request')</dd>
<dt>Exception:</dt>
<dd>OAuthException thrown when the request did not verify</dd>
<dt>Returns:</dt>
<dd>user_id associated with token (false when no user associated)</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line243" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 243</a>

<h3 id="verifyDataSignature()">verifyDataSignature</h3>
<code class="signature">public  void <strong>verifyDataSignature</strong>(string data, string consumer_secret, string token_secret, string signature_method, string signature)</code>
<div class="details">
<p>Verify the signature of a string.</p><dl>
<dt>Exception:</dt>
<dd>OAuthException thrown when the signature method is unknown</dd>
<dd>OAuthException when signature does not match</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line93" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 93</a>

<h3 id="verifyIfSigned()">verifyIfSigned</h3>
<code class="signature">public  boolean <strong>verifyIfSigned</strong>(string token_type)</code>
<div class="details">
<p>Verify the request if it seemed to be signed.</p><dl>
<dt>Parameters:</dt>
<dd>token_type - the kind of token needed, defaults to 'access'</dd>
<dt>Exception:</dt>
<dd>OAuthException thrown when the request did not verify</dd>
<dt>Returns:</dt>
<dd>true when signed, false when not signed</dd>
</dl>
</div></div>



<div class='method'><a href="../source/application/libraries/oauth/oauthrequestverifier.php.html#line201" class="location">application/libraries/oauth/OAuthRequestVerifier.php at line 201</a>

<h3 id="verifySignature()">verifySignature</h3>
<code class="signature">public  void <strong>verifySignature</strong>(string consumer_secret, string token_secret, str token_type)</code>
<div class="details">
<p>Verify the signature of the request, using the method in oauth_signature_method.
The signature is returned encoded in the form as used in the url.  So the base64 and
urlencoding has been done.</p><dl>
<dt>Exception:</dt>
<dd>OAuthException thrown when the signature method is unknown</dd>
<dd>OAuthException when not all parts available</dd>
<dd>OAuthException when signature does not match</dd>
</dl>
</div></div>



</div><div class="header">
<h1>GiftFlow API</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../giftflow/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../giftflow/package-tree.html">Tree</a></li>
<li><a href="../overview-files.html">Files</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../giftflow/oauthrequestverifier.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>